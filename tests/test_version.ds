use "file_utilities"
use "path_utilities"
use "toml"

LOCATION = "./tests/version_test"
Path.create(LOCATION)

HEADER_FILE = "#{LOCATION}/test_file.h"
HEADER_CONTENT = "#pragma once\n"
File.create(HEADER_FILE, "#{HEADER_CONTENT}", true)


toml_path = "./tests/test.toml"
test_config = TOML.parse_file(toml_path)

test_table = test_config["TEST"].as_h
test_name = test_table["name"].as_s

File.append(HEADER_FILE, "#{test_name}\n", true)
